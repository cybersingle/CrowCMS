var FixedColumns;!function(t,e){FixedColumns=function(t,e){var i=this;return!this instanceof FixedColumns?void alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword."):("undefined"==typeof e&&(e={}),this.s={dt:t.fnSettings(),iTableColumns:t.fnSettings().aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},this.s.dt.oFixedColumns=this,void(this.s.dt._bInitComplete?this._fnConstruct(e):this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoInitComplete",function(){i._fnConstruct(e)},"FixedColumns")))},FixedColumns.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(t){delete t._DTTC_iHeight,t.style.height="auto"},fnSetRowHeight:function(t,e){t.style.height=e+"px"},_fnConstruct:function(i){var o=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||this.s.dt.oInstance.fnVersionCheck("1.8.0")!==!0)return void alert("FixedColumns "+FixedColumns.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");if(""===this.s.dt.oScroll.sX)return void this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");this.s=t.extend(!0,this.s,FixedColumns.defaults,i),this.dom.grid.dt=t(this.s.dt.nTable).parents("div.dataTables_scroll")[0],this.dom.scroller=t("div.dataTables_scrollBody",this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup(),t(this.dom.scroller).scroll(function(){o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.scroller.scrollTop),o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.scroller.scrollTop)}),o.s.iLeftColumns>0&&(t(o.dom.grid.left.liner).scroll(function(){o.dom.scroller.scrollTop=o.dom.grid.left.liner.scrollTop,o.s.iRightColumns>0&&(o.dom.grid.right.liner.scrollTop=o.dom.grid.left.liner.scrollTop)}),t(o.dom.grid.left.liner).bind("mousewheel",function(t){var e=t.originalEvent.wheelDeltaX/3;o.dom.scroller.scrollLeft-=e})),o.s.iRightColumns>0&&(t(o.dom.grid.right.liner).scroll(function(){o.dom.scroller.scrollTop=o.dom.grid.right.liner.scrollTop,o.s.iLeftColumns>0&&(o.dom.grid.left.liner.scrollTop=o.dom.grid.right.liner.scrollTop)}),t(o.dom.grid.right.liner).bind("mousewheel",function(t){var e=t.originalEvent.wheelDeltaX/3;o.dom.scroller.scrollLeft-=e})),t(e).resize(function(){o._fnGridLayout.call(o)});var s=!0;this.s.dt.aoDrawCallback=[{fn:function(){o._fnDraw.call(o,s),o._fnGridLayout(o),s=!1},sName:"FixedColumns"}].concat(this.s.dt.aoDrawCallback),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)},_fnColCalc:function(){var e=this,i=t(this.dom.grid.dt).width(),o=0,s=0;this.s.aiInnerWidths=[],t("tbody>tr:eq(0)>td, tbody>tr:eq(0)>th",this.s.dt.nTable).each(function(i){e.s.aiInnerWidths.push(t(this).width());var l=t(this).outerWidth();e.s.aiOuterWidths.push(l),i<e.s.iLeftColumns&&(o+=l),e.s.iTableColumns-e.s.iRightColumns<=i&&(s+=l)}),this.s.iLeftWidth="fixed"==this.s.sLeftWidth?o:o/i*100,this.s.iRightWidth="fixed"==this.s.sRightWidth?s:s/i*100},_fnGridSetup:function(){var e,i=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var o=t('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],s=o.childNodes[0],l=o.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(o,this.dom.grid.dt),o.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=o,this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=s,this.dom.grid.left.head=s.childNodes[0],this.dom.grid.left.body=s.childNodes[1],this.dom.grid.left.liner=t("div.DTFC_LeftBodyLiner",o)[0],o.appendChild(s)),this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=l,this.dom.grid.right.head=l.childNodes[0],this.dom.grid.right.body=l.childNodes[1],this.dom.grid.right.liner=t("div.DTFC_RightBodyLiner",o)[0],e=t("div.DTFC_RightHeadBlocker",o)[0],e.style.width=i.bar+"px",e.style.right=-i.bar+"px",this.dom.grid.right.headBlock=e,e=t("div.DTFC_RightFootBlocker",o)[0],e.style.width=i.bar+"px",e.style.right=-i.bar+"px",this.dom.grid.right.footBlock=e,o.appendChild(l)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=s.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=l.childNodes[2]))},_fnGridLayout:function(){var e,i,o,s=this.dom.grid,l=t(s.wrapper).width(),d=t(this.s.dt.nTable.parentNode).height(),r=t(this.s.dt.nTable.parentNode.parentNode).height(),n=this._fnDTOverflow();e="fixed"==this.s.sLeftWidth?this.s.iLeftWidth:this.s.iLeftWidth/100*l,o="fixed"==this.s.sRightWidth?this.s.iRightWidth:this.s.iRightWidth/100*l,n.x&&(d-=n.bar),s.wrapper.style.height=r+"px",this.s.iLeftColumns>0&&(s.left.wrapper.style.width=e+"px",s.left.wrapper.style.height=r+"px",s.left.body.style.height=d+"px",s.left.foot&&(s.left.foot.style.top=(n.x?n.bar:0)+"px"),s.left.liner.style.width=e+n.bar+"px",s.left.liner.style.height=d+"px"),this.s.iRightColumns>0&&(i=l-o,n.y&&(i-=n.bar),s.right.wrapper.style.width=o+"px",s.right.wrapper.style.left=i+"px",s.right.wrapper.style.height=r+"px",s.right.body.style.height=d+"px",s.right.foot&&(s.right.foot.style.top=(n.x?n.bar:0)+"px"),s.right.liner.style.width=o+n.bar+"px",s.right.liner.style.height=d+"px",s.right.headBlock.style.display=n.x?"block":"none",s.right.footBlock.style.display=n.x?"block":"none")},_fnDTOverflow:function(){var t=this.s.dt.nTable,e=t.parentNode,i={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return t.offsetWidth>e.offsetWidth&&(i.x=!0),t.offsetHeight>e.offsetHeight&&(i.y=!0),i},_fnDraw:function(e){this._fnCloneLeft(e),this._fnCloneRight(e),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),t(this).trigger("draw",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(t){if(!(this.s.iRightColumns<=0)){var e,i=[];for(e=this.s.iTableColumns-this.s.iRightColumns;e<this.s.iTableColumns;e++)i.push(e);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,t)}},_fnCloneLeft:function(t){if(!(this.s.iLeftColumns<=0)){var e,i=[];for(e=0;e<this.s.iLeftColumns;e++)i.push(e);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,t)}},_fnCopyLayout:function(e,i){for(var o=[],s=[],l=[],d=0,r=e.length;r>d;d++){var n=[];n.nTr=t(e[d].nTr).clone(!0)[0];for(var h=0,a=this.s.iTableColumns;a>h;h++)if(-1!==t.inArray(h,i)){var f=t.inArray(e[d][h].cell,l);if(-1===f){var p=t(e[d][h].cell).clone(!0)[0];s.push(p),l.push(e[d][h].cell),n.push({cell:p,unique:e[d][h].unique})}else n.push({cell:s[f],unique:e[d][h].unique})}o.push(n)}return o},_fnClone:function(e,i,o,s){var l,d,r,n,h,a,f,p,c,u,g=this;if(s){for(null!==e.header&&e.header.parentNode.removeChild(e.header),e.header=t(this.dom.header).clone(!0)[0],e.header.className+=" DTFC_Cloned",e.header.style.width="100%",i.head.appendChild(e.header),p=this._fnCopyLayout(this.s.dt.aoHeader,o),c=t(">thead",e.header),c.empty(),l=0,d=p.length;d>l;l++)c[0].appendChild(p[l].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,p,!0)}else for(p=this._fnCopyLayout(this.s.dt.aoHeader,o),u=[],this.s.dt.oApi._fnDetectHeader(u,t(">thead",e.header)[0]),l=0,d=p.length;d>l;l++)for(r=0,n=p[l].length;n>r;r++)u[l][r].cell.className=p[l][r].cell.className,t("span.DataTables_sort_icon",u[l][r].cell).each(function(){this.className=t("span.DataTables_sort_icon",p[l][r].cell)[0].className});this._fnEqualiseHeights("thead",this.dom.header,e.header),"auto"==this.s.sHeightMatch&&t(">tbody>tr",g.dom.body).css("height","auto"),null!==e.body&&(e.body.parentNode.removeChild(e.body),e.body=null),e.body=t(this.dom.body).clone(!0)[0],e.body.className+=" DTFC_Cloned",e.body.style.paddingBottom=this.s.dt.oScroll.iBarWidth+"px",e.body.style.marginBottom=2*this.s.dt.oScroll.iBarWidth+"px",null!==e.body.getAttribute("id")&&e.body.removeAttribute("id"),t(">thead>tr",e.body).empty(),t(">tfoot",e.body).remove();var m=t("tbody",e.body)[0];if(t(m).empty(),this.s.dt.aiDisplay.length>0){var y=t(">thead>tr",e.body)[0];for(f=0;f<o.length;f++){h=o[f],a=t(this.s.dt.aoColumns[h].nTh).clone(!0)[0],a.innerHTML="";var C=a.style;C.paddingTop="0",C.paddingBottom="0",C.borderTopWidth="0",C.borderBottomWidth="0",C.height=0,C.width=g.s.aiInnerWidths[h]+"px",y.appendChild(a)}t(">tbody>tr",g.dom.body).each(function(e){var i=this.cloneNode(!1),s=g.s.dt.oFeatures.bServerSide===!1?g.s.dt.aiDisplay[g.s.dt._iDisplayStart+e]:e;for(f=0;f<o.length;f++){var l=g.s.dt.oApi._fnGetTdNodes(g.s.dt,s);h=o[f],l.length>0&&(a=t(l[h]).clone(!0)[0],i.appendChild(a))}m.appendChild(i)})}else t(">tbody>tr",g.dom.body).each(function(){a=this.cloneNode(!0),a.className+=" DTFC_NoData",t("td",a).html(""),m.appendChild(a)});if(e.body.style.width="100%",e.body.style.margin="0",e.body.style.padding="0",s&&"undefined"!=typeof this.s.dt.oScroller&&i.liner.appendChild(this.s.dt.oScroller.dom.force.cloneNode(!0)),i.liner.appendChild(e.body),this._fnEqualiseHeights("tbody",g.dom.body,e.body),null!==this.s.dt.nTFoot){if(s){null!==e.footer&&e.footer.parentNode.removeChild(e.footer),e.footer=t(this.dom.footer).clone(!0)[0],e.footer.className+=" DTFC_Cloned",e.footer.style.width="100%",i.foot.appendChild(e.footer),p=this._fnCopyLayout(this.s.dt.aoFooter,o);var b=t(">tfoot",e.footer);for(b.empty(),l=0,d=p.length;d>l;l++)b[0].appendChild(p[l].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,p,!0)}else{p=this._fnCopyLayout(this.s.dt.aoFooter,o);var v=[];for(this.s.dt.oApi._fnDetectHeader(v,t(">tfoot",e.footer)[0]),l=0,d=p.length;d>l;l++)for(r=0,n=p[l].length;n>r;r++)v[l][r].cell.className=p[l][r].cell.className}this._fnEqualiseHeights("tfoot",this.dom.footer,e.footer)}var T=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,t(">thead",e.header)[0]);t(T).each(function(t){h=o[t],this.style.width=g.s.aiInnerWidths[h]+"px"}),null!==g.s.dt.nTFoot&&(T=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,t(">tfoot",e.footer)[0]),t(T).each(function(t){h=o[t],this.style.width=g.s.aiInnerWidths[h]+"px"}))},_fnGetTrNodes:function(t){for(var e=[],i=0,o=t.childNodes.length;o>i;i++)"TR"==t.childNodes[i].nodeName.toUpperCase()&&e.push(t.childNodes[i]);return e},_fnEqualiseHeights:function(e,i,o){if("none"!=this.s.sHeightMatch||"thead"===e||"tfoot"===e){var s,l,d,r,n,h=i.getElementsByTagName(e)[0],a=o.getElementsByTagName(e)[0],f=t(">"+e+">tr:eq(0)",i).children(":first"),p=(f.outerHeight()-f.height(),this._fnGetTrNodes(h)),c=this._fnGetTrNodes(a);for(s=0,l=c.length;l>s;s++)r=p[s].offsetHeight,n=c[s].offsetHeight,d=n>r?n:r,"semiauto"==this.s.sHeightMatch&&(p[s]._DTTC_iHeight=d),c[s].style.height=d+"px",p[s].style.height=d+"px"}}},FixedColumns.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sLeftWidth:"fixed",iLeftWidth:null,sRightWidth:"fixed",iRightWidth:null,sHeightMatch:"semiauto"},FixedColumns.prototype.CLASS="FixedColumns",FixedColumns.VERSION="2.5.0.dev"}(jQuery,window,document);